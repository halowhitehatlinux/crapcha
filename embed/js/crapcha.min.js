var crapcha={init:function(a){var t='<div class="code"></div><div class="control"><input type="text" maxlength="20" placeholder="Type the text above"></input><label><span class="icon-021 reload btn"></span><a class="icon-05a info btn" href="http://crapcha.com" target="_blank" tabindex="-1"></a> <span class="logo">CRAPCHA<sup>&trade;</sup></span></label></div>';a.append(t).children(".control").find(".reload").css("user-select","none").click(function(){crapcha.populate(a)}),this.populate(a)},populate:function(a){var t=a.children(".code"),e=this.generate(5);t.empty();for(var n=0;n<e.length;n++)5===e[n].length?t.append("<span>&#x"+e[n]+";</span>"):3===e[n].length&&t.append('<span class="icon-'+e[n]+'"></span>');t.children().each(this.distort)},generate:function(a){for(var t=[],e,n,i=0;i<a;i++)n=Math.random(),n>.4?(e=this.randomize(382).toString(16),e=this.pad([e,5])):n>.2?(e=this.randomize(12351).toString(16),e=this.pad([e,5])):(e=this.randomize(270).toString(15),e=this.pad([e,3])),t.push(e);return t},distort:function(a){var t=$(this).parent().children().length,e=parseInt($(this).parent().height(),10);$(this).css({left:8+100*a/t+"%",position:"absolute","font-size":e-crapcha.randomize(20)+"px",transform:"rotateY("+crapcha.randomize(70)+"deg) rotate("+crapcha.randomize(360)+"deg)","user-select":"none"})},send:function(a){if(13==a.which&&$(this).val()&&$(this).val()!==crapcha.attempt){crapcha.attempt=$(this).val().substring(0,20);var t=$(this).parent().parent().children(".code");if(t.children("span").size()===t.find("*").size()&&0===t.find("[onload], [onunload], [onclick], [onmouseover], [onmouseout], [onmousedown], [onmouseup]").size()){Parse.initialize("2moOiQhfPeRV59WOjc08sOXoIak22aXviq8WCAuD","U2xgNLNQYzWy6iabH3YPwdKp4GOhEcWDPlTBFzvC");var e=Parse.Object.extend("Record"),n=new e;n.set("captcha",t.html()),n.set("attempt",crapcha.attempt),n.save()}$(this).val(""),crapcha.populate($(this).parent().parent())}},randomize:function(a){return Math.floor(Math.random()*a)},pad:function(a){var t="00000"+a[0];return t.substr(t.length-a[1])}};crapcha.init($(".crapcha"));